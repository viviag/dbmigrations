# Use new container infrastructure to enable caching
sudo: false

# Do not choose a language; we provide our own build tools.
language: generic

# Ensure necessary system libraries are present
#addons:
#  apt:
#    packages:
#      - libgmp-dev

before_install:
# Download and unpack cabal executable
- mkdir -p ~/.local/bin
- export PATH=$HOME/.local/bin:$PATH
- travis_retry apt install haskell-platform
- cabal update

install:
- cabal install --only-dependencies --enable-tests

script:
- cabal build
- cabal test
- cabal haddock
